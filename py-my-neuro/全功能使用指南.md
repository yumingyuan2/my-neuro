# My-Neuro 全功能使用指南

## 🚀 概述

My-Neuro现已实现README中所有主要待实现功能，包括：

- 🧠 **长期记忆系统** - 持久化记录用户信息和对话历史
- 💝 **真实情感系统** - 具有持续性的情绪状态变化
- 📚 **AI讲课功能** - 多科目互动式教学
- 🎮 **游戏陪玩功能** - 8种不同类型的互动游戏
- 🌐 **Web界面支持** - 浏览器远程控制和聊天

## 📋 安装和启动

### 1. 安装依赖
```bash
# 确保使用Python 3.11环境
conda activate my-ai

# 安装新增依赖
pip install Flask Flask-SocketIO pandas jieba
```

### 2. 启动完整版
```bash
python main_chat.py
```

### 3. 访问Web界面 (可选)
浏览器打开: http://localhost:5000

## 🧠 长期记忆系统

### 功能特点
- 自动记录用户个人信息、对话历史、重要事件
- 智能信息提取和重要性评分
- 基于关键词的记忆搜索
- 为AI提供上下文记忆增强

### 使用方法
```python
# 语音命令
"记忆摘要"  # 查看记忆统计
"我叫张三" # 自动提取姓名信息
"我喜欢编程" # 自动记录兴趣爱好

# 通过Function Calling
"帮我记住今天是我的生日"
"搜索关于编程的记忆"
```

### 数据存储位置
```
py-my-neuro/memory_mod/long_term_memory.db
```

## 💝 真实情感系统

### 情绪类型
- 基础情绪：开心、难过、生气、惊讶、害羞、俏皮
- 扩展情绪：兴奋、疲倦、好奇、平静

### 情绪变化因素
- **时间影响**: 早晨更有活力，夜晚更疲倦
- **交互影响**: 正面交流增加愉悦，负面交流产生相应情绪
- **性格特征**: 基于五大人格特质的情绪倾向
- **随机波动**: 模拟自然的心情变化

### 使用方法
```python
# 语音命令
"情绪状态" # 查看当前情绪
"你现在心情怎么样"

# 手动触发情绪 (调试用)
"触发开心情绪"
"重置情绪状态"
```

### 配置文件
```json
// real_emotion_mod/emotion_config.json
{
  "personality_traits": {
    "extraversion": 0.7,    // 外向性
    "agreeableness": 0.6,   // 宜人性  
    "conscientiousness": 0.5, // 尽责性
    "neuroticism": 0.4,     // 神经质
    "openness": 0.8         // 开放性
  }
}
```

## 📚 AI讲课功能

### 支持科目
- **编程**: Python基础、Web开发
- **数学**: 微积分、线性代数
- **语言学习**: 英语语法、词汇学习
- **科学**: 物理、化学基础

### 教学模式
1. **讲座模式**: 连续讲解知识点
2. **互动模式**: 问答式教学 (推荐)
3. **练习模式**: 习题练习
4. **复习模式**: 知识回顾

### 使用方法
```python
# 语音命令
"教我编程"        # 开始Python基础课程
"学习英语语法"    # 开始英语语法课程
"我要学数学"      # 开始数学课程
"查看可用课程"    # 列出所有课程

# 课程中的交互
"我明白了"        # 表示理解
"再解释一遍"      # 要求重复讲解
"给个例子"        # 要求举例
"下一个知识点"    # 继续下一部分
```

### 添加自定义课程
```python
# 通过编程方式添加
teaching_tools.add_custom_course(
    subject="心理学",
    topic="认知心理学基础", 
    overview="研究人类认知过程的心理学分支",
    knowledge_points=["感知", "注意", "记忆", "思维"],
    exercises=["解释感知的基本过程", "分析注意的特点"]
)
```

## 🎮 游戏陪玩功能

### 游戏类型
1. **你画我猜** - AI画图用户猜，或用户描述AI猜
2. **知识问答** - 多科目问答挑战  
3. **猜谜游戏** - 传统谜语游戏
4. **石头剪刀布** - 经典手势游戏
5. **猜数字** - 1-100数字猜测
6. **文字游戏** - 词语接龙、成语接龙
7. **故事接龙** - 共同创作故事
8. **二十个问题** - 逻辑推理游戏

### 使用方法
```python
# 语音命令
"开始游戏"           # 显示游戏列表
"玩你画我猜"         # 开始你画我猜
"来个知识问答"       # 开始问答游戏
"石头剪刀布"         # 开始手势游戏
"我们来猜谜语"       # 开始猜谜游戏

# 游戏中的操作
"石头" / "剪刀" / "布"  # 出招
"42"                    # 猜数字
"月亮"                  # 猜谜语答案
"不玩了"                # 结束游戏
```

### 游戏状态查看
```python
"游戏进度如何"  # 查看当前游戏状态
"我的得分"      # 查看得分情况
```

## 🌐 Web界面支持

### 功能页面
1. **主页** (/) - 功能概览和状态监控
2. **聊天页** (/chat) - 实时对话交流
3. **控制页** (/control) - 远程功能控制

### 主要特性
- **实时通信**: WebSocket双向实时通信
- **多客户端**: 支持多个浏览器同时连接
- **远程控制**: 可远程触发所有AI功能
- **状态监控**: 实时显示系统运行状态

### 控制功能
- **情绪控制**: 手动触发各种情绪
- **动作控制**: 控制Live2D动作表现
- **显示控制**: 切换心情颜色、自由移动等
- **游戏启动**: 一键启动各种游戏
- **教学启动**: 快速开始课程
- **系统管理**: 配置保存、重启等

### API端点
```
GET  /api/status           # 获取系统状态
POST /api/send_message     # 发送聊天消息
POST /api/control/<action> # 执行控制操作
```

## ⚙️ 配置说明

### 主配置文件 (config_mod/config.json)
```json
{
  "features": {
    "long_term_memory": true,   // 长期记忆
    "real_emotion": true,       // 真实情感  
    "ai_teaching": true,        // AI讲课
    "game_companion": true,     // 游戏陪玩
    "web_interface": true       // Web界面
  }
}
```

### 情感系统配置 (real_emotion_mod/emotion_config.json)
```json
{
  "personality_traits": {
    "extraversion": 0.7,      // 外向程度 (0-1)
    "agreeableness": 0.6,     // 宜人程度 (0-1)
    "neuroticism": 0.4        // 情绪稳定性 (0-1)
  }
}
```

## 🎯 使用技巧

### 1. 充分利用记忆系统
- 多向AI介绍自己的信息，AI会记住并在后续对话中使用
- 使用"记忆摘要"定期查看AI对你的了解程度

### 2. 观察情绪变化
- 注意AI的情绪会随着对话内容和时间变化
- 在不同时段与AI交流，体验不同的情绪状态

### 3. 教学功能最大化
- 从简单课程开始，逐步深入
- 在学习过程中多提问和互动
- 利用练习模式巩固知识

### 4. 游戏策略
- 不同游戏有不同的互动方式
- 观察AI的游戏策略和反应模式
- 尝试所有游戏类型找到最喜欢的

### 5. Web界面使用
- 可以多设备同时连接Web界面
- 使用控制面板快速测试各种功能
- 通过Web界面监控AI状态

## 🔧 故障排除

### 功能模块未启用
```python
# 检查错误信息中的具体模块
❌ 长期记忆系统启动失败: xxx
❌ 真实情感系统启动失败: xxx

# 解决方法:
# 1. 检查依赖是否安装完整
# 2. 查看文件权限
# 3. 重新安装依赖包
```

### Web界面无法访问
```bash
# 检查端口是否被占用
netstat -an | findstr :5000

# 更换端口 (修改main_chat.py)
self.web_interface = NeuroWebInterface(port=5001)
```

### 数据库文件错误
```bash
# 删除损坏的数据库文件重新初始化
rm py-my-neuro/memory_mod/long_term_memory.db
```

## 📊 性能优化

### 内存优化
- 长期记忆系统会自动清理90天前的低重要度数据
- 可手动调用清理功能释放内存

### 响应速度优化
- 情绪系统在后台运行，不影响对话响应速度
- Web界面使用异步处理，不阻塞主程序

### 存储空间管理
- 定期检查数据库大小
- 清理不必要的日志文件

## 🔄 版本更新

当前版本: **2.0 全功能版**

### 相比1.0版本新增:
- ✅ 长期记忆系统
- ✅ 真实情感系统  
- ✅ AI讲课功能
- ✅ 游戏陪玩功能
- ✅ Web界面支持

### 下一版本计划:
- 🔄 国际直播平台接入
- 🔄 更深层的人机交互体验
- 🔄 语音情绪识别
- 🔄 视觉情绪表达

---

🎉 **恭喜！你现在拥有了功能完整的My-Neuro AI伙伴！**

💬 如有问题，请访问: QQ群 756741478 (入群答案：肥牛)